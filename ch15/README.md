# 북마크 어플리케이션 개발
## 동형 자바스크립트 이전의 애플리케이션의 형태

서버와 클라이언트가 동일한 자바스크립트를 사용하는 것을 <b>동형 자바스크립트(isomorphic javascript)</b>하고 한다.   
동형 자바스크립트가 나오게 된 배경은 웹 애플리케이션의 클라이언트와 서버의 발전과 관련이 있다. 초기 클라이언트와 서버의 관계에서 렌더링은 주로 서버 렌더링(server rendering)이 수행됐다. 사용자 화면이 바뀌려면 클라이언트가 서버에 요청해야 HTML 페이지를 응답받을 수 있었다.   

반면 단일 페이지 애플리케이션(single page application)은 주로 클라이언트 렌더링(client redering)을 수행한다. 클라이언트 렌더링은 렌더링 엔진 등이 클라이언트에 위치해서 렌더링 엔진의 구동을 이유로 클라이언트가 무거워지는 단점이 있지만, 렌더링 엔진이 일단 구동되고 나면 서버 요청 없이도 캐시된 데이터로 렌더링이 가능하므로 화면 전환 속도가 빠르다는 장점이 있다.   

그런데 싱글 애플리케이션은 다음과 같은 여러 문제를 포함한다.
1. 오래된 기기나 오래된 브라우저에서는 동작하지 않을 수 있다.
    -  단일 페이지 애플리케이션은 비교적 최신 자바스크립트의 특징을 이용하므로 구 브라우저에서 동작하지 않은 수 있다.
2. 애플리케이션의 초기 로딩 시간이 오래 걸려 사용자 경험이 떨어진다.
    - 애플리케이션이 실행될 때 용량이 크다. 따라서 애플리케이션에서 스크립트를 모두 호출했더라도 브라우저에서 다시 렌더링해야 하므로 사용자는 몇초간 빈 화면을 봐야 할 수도 있다.
3. 초기 로딩 페이지를 읽을 수 없어 검색 엔진에 색인이 불가능하다.
    - 단일 페이지 애플리케이션의 최초 페이지는 서버에서 렌더링되지 않은 페이지이며 HTML이나 어떠한 콘텐츠도 포함하지 않으므로 검색 엔진에 색인 될 수 없다.

## 동형 자바스크립트 애플리케이션
 동형 자바스크립트 애플리케이션은 언어만 같을 뿐 아니라 공통 API를 통해 코드를 공유할 수 있다.   
 
 클라이언트와 서버는 고유의 기능과 역할이 있고 공유해 사용하는 중복 기능들이 있다. 공유하는 기능이나 중복되는 기능등은 공통 API로 묶어서 정의할 수 있다. 공통 API의 예로 렌더링 처리가 있다.   
 
 렌더링 엔진의 예를 들면 초기 페이지는 공통 API를 통해 얻은 결과를 서버 렌더링이 되도록 하고 이후 클라이언트는 공통 API로 렌더링 결과를 출력해줄 수 있다. 이렇게 하면 서버가 응답을 생성해 검색 엔진 색인 문제가 해결되고 애플리케이션의 구동 속도도 빨라진다. 애플리케이션이 실행하면 일부는 클라이언트 중심으로 렌더링을 수행해 서버 요청 없이도 클라이언트 화면을 빠르게 업데이트할 수 있다. 렌더링 기능은 서버와 클라이언트에서 다음과 같이 동작한다.
* 서버는 렌더링을 수행해 초기 HTML 페이지에 응답한다.
* 클라이언트는 라우팅 경로에 따라 렌더링을 수행한다.

동형 자바스크립트 애플리케이션을 구축하면 단일 페이지 애플리케이션의 단점으로 지적됐던 렌더링 문제와 검색 엔진 색인 문제도 함께 해결된다.

## 동형 타입스크립트
타입스크립트는 타입 검사를 엄격히 수행해 타입 안정성을 확보하고, 자바스크립트는 타입을 동적으로 할당해 런타임 시에 스크립트를 고속으로 실행하게 한다. 따라서 자바스크립트와 타입스크립트가 서로의 결점을 보완해 주게 된다.
